{% extends 'admin/change_list.html' %}
{% load i18n admin_urls static admin_list %}

{% block content_title %}
  <h1>Bot foydalanuvchilari</h1>

  {% if direction_stats %}
    <div style="background: #f8f9fa; padding: 15px; margin: 10px 0; border-radius: 5px; border-left: 4px solid #007cba;">
      <h3 style="margin-top: 0; color: #007cba;">ðŸ“Š Viloyat bo'yicha statistika</h3>
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px;">
        {% for direction, count in direction_stats.items %}
          <div style="background: white; padding: 10px; border-radius: 3px; border: 1px solid #ddd;">
            <strong>{{ direction }}:</strong> {{ count }} ta foydalanuvchi
          </div>
        {% endfor %}
      </div>
      <div style="margin-top: 10px; padding-top: 10px; border-top: 1px solid #ddd;">
        <strong>Jami foydalanuvchilar:</strong> {{ total_users }} ta
      </div>
    </div>
  {% endif %}
{% endblock %}

{% block result_list %}
  {{ block.super }}
{% endblock %}
